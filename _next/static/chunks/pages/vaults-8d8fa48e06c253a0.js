(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5271],{95468:function(e,t,s){"use strict";e.exports=s(22515)},22515:function(e,t,s){"use strict";var a=s(67294),n=a&&"object"==typeof a&&"default"in a?a.default:a;function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var s,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)t.indexOf(s=r[a])>=0||(n[s]=e[s]);return n}var i=["className","size"],o=["className","style","children","color","debug"],d="\nradial-gradient(var(--glow-size) var(--glow-size) at calc(var(--glow-x, -999px) - var(--glow-left, 0px))\ncalc(var(--glow-y, -999px) - var(--glow-top, 0px)), #000000 1%, transparent 50%)\n";t.Glow=function(e){var t=e.className,s=e.style,i=e.children,c=e.color,u=e.debug,p=l(e,o),m=a.useRef(null);return a.useEffect(function(){var e,t,s,a;null==(e=m.current)||e.style.setProperty("--glow-top",(null==(t=m.current)?void 0:t.offsetTop)+"px"),null==(s=m.current)||s.style.setProperty("--glow-left",(null==(a=m.current)?void 0:a.offsetLeft)+"px")}),a.useEffect(function(){var e,t=new ResizeObserver(function(){requestAnimationFrame(function(){var e,t,s,a;null==(e=m.current)||e.style.setProperty("--glow-top",(null==(t=m.current)?void 0:t.offsetTop)+"px"),null==(s=m.current)||s.style.setProperty("--glow-left",(null==(a=m.current)?void 0:a.offsetLeft)+"px")})}),s=null==(e=m.current)?void 0:e.closest(".glow-capture");return s&&t.observe(s),function(){return t.disconnect()}},[]),n.createElement("div",Object.assign({ref:m,className:"glow",style:{display:"grid"}},p),n.createElement("div",Object.assign({className:t,style:r({},s,{gridArea:"1/1/1/1"})},p),i),n.createElement("div",Object.assign({className:"glow-mask "+(t||""),glow:"true",style:r({},s,{"--glow-color":void 0===c?"#f50057":c,gridArea:"1/1/1/1",pointerEvents:"none",mask:u?void 0:d,WebkitMask:u?void 0:d})},p),i))},t.GlowCapture=function(e){var t=e.className,s=e.size,r=l(e,i),o=a.useRef(null);return a.useEffect(function(){var e,t,s=function(e){"mouse"===e.pointerType&&requestAnimationFrame(function(){var t,s;null==(t=o.current)||t.style.setProperty("--glow-x",e.layerX+"px"),null==(s=o.current)||s.style.setProperty("--glow-y",e.layerY+"px")})},a=function(){var e,t;null==(e=o.current)||e.style.removeProperty("--glow-x"),null==(t=o.current)||t.style.removeProperty("--glow-y")};return null==(e=o.current)||e.addEventListener("pointermove",s,{passive:!0}),null==(t=o.current)||t.addEventListener("pointerleave",a,{passive:!0}),function(){var e,t;null==(e=o.current)||e.removeEventListener("pointermove",s),null==(t=o.current)||t.removeEventListener("pointerleave",a)}},[]),n.createElement("div",Object.assign({ref:o,className:"glow-capture "+(void 0===t?"":t),style:{position:"relative","--glow-size":(void 0===s?400:s)+"px"}},r))}},20238:function(e,t,s){"use strict";s.d(t,{dE:function(){return a.d}});var a=s(9279)},48392:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vaults",function(){return s(16247)}])},1966:function(e,t,s){"use strict";s.d(t,{r:function(){return i}});var a=s(85893),n=s(60263),r=s(22852),l=s(61856);s(67294);let i=e=>{let{value:t,onChange:s,symbol:i,tokenDecimals:o,placeholder:d="Amount",imageUrl:c,displayTokenSelect:u}=e;return(0,a.jsxs)("div",{className:"standard-frame flex flex-row gap-2 justify-between p-2 text-xl",children:[(0,a.jsx)("input",{type:"number",className:"unstyled-input flex-grow",placeholder:d,maxLength:7,min:0,value:t?(0,n.b)(t,o):void 0,onChange:e=>{let t=e.target.value;t?s((0,r.v)(t,o)):s(void 0)}}),(0,a.jsx)(l.W,{symbol:i,imageUrl:c,displayTokenSelect:u||!1})]})}},49277:function(e,t,s){"use strict";s.d(t,{U:function(){return o}});var a=s(85893),n=s(60263),r=s(94184),l=s.n(r);s(67294);var i=s(61856);let o=e=>{let{value:t,symbol:s,tokenDecimals:r,placeholder:o,isLoading:d,imageUrl:c,displayTokenSelect:u}=e,p=t?(0,n.b)(t,r):o;return t&&(p=parseFloat(Number(p).toFixed(4)).toLocaleString()),(0,a.jsxs)("div",{className:"standard-frame flex flex-row gap-2 justify-between items-center p-2 text-xl",children:[d?(0,a.jsx)("div",{className:"flex-grow rounded-md bg-slate-600 animate-pulse h-[32px]"}):(0,a.jsx)("span",{className:l()({"text-neutral-content":!t}),children:p}),(0,a.jsx)(i.W,{symbol:s,imageUrl:c,displayTokenSelect:u||!1})]})}},61856:function(e,t,s){"use strict";s.d(t,{W:function(){return d}});var a=s(85893);s(67294);var n=s(4567),r=s(88707),l=s(94184),i=s.n(l),o=s(60155);let d=e=>{let{imageUrl:t,symbol:s,displayTokenSelect:l=!1,onClick:d}=e,c=(0,n.d)();return(0,a.jsxs)("div",{className:i()("w-max flex flex-row items-center justify-between gap-1 glassborder rounded-full px-2 py-1",{"cursor-pointer hover:bg-glass-focus":l||d}),onClick:()=>(d&&d(),l&&c.show()),children:[t||"ETH"===s||"WETH"===s?(0,a.jsx)("img",{src:"USDB"===s?"https://wasabi-public.s3.amazonaws.com/tokens/usdb.png":t||"https://wasabi-public.s3.amazonaws.com/tokens/weth.png",className:"w-7 h-7 rounded-full",alt:s}):(0,a.jsx)("div",{className:"w-7 h-7 rounded-full text-[8px] glassborder flex items-center justify-center",children:s.substring(0,3)}),(0,a.jsx)("span",{className:"text-neutral-content select-none text-base",children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return e.length>t?(0,a.jsxs)(a.Fragment,{children:[e.slice(0,t-1),"â€¦"]}):(0,a.jsx)(a.Fragment,{children:e})}(s)}),(l||d)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"flex items-center",children:(0,a.jsx)(o.CgR,{size:16,className:"text-neutral-content"})}),(0,a.jsx)(n.u,{...c,children:(0,a.jsx)(r.j,{onSelected:c.hide})})]})]})}},88707:function(e,t,s){"use strict";s.d(t,{j:function(){return w}});var a=s(85893),n=s(53990),r=s(76790),l=s(67294),i=s(88767),o=s(85821),d=s(40364),c=s(94184),u=s.n(c),p=s(66653),m=s(24068),v=s(13331),x=s(11163),h=s(98716),f=s(85863),g=s(69077),y=s(75840),b=s(79217);let w=e=>{var t,s;let{onSelected:c}=e,{address:w}=(0,g.mA)(),j=(0,v.f)(),N=(0,x.useRouter)(),{userSelections:k,handleSelection:S}=(0,m.E)(),[C,L]=(0,l.useState)(""),[E,_]=(0,b.y)("token",k.token||h.pe),T=(0,i.useQuery)("perp_configs",async()=>await (0,o.c4)(),{enabled:!0}),A=(null===(t=T.data)||void 0===t?void 0:t.items.filter(e=>h.PD.indexOf(w||"")>=0||e.token.address.toLowerCase()!==f.y_.toLowerCase()).filter(e=>e.token.symbol.toLowerCase().includes(C.toLowerCase())||e.token.name.toLowerCase().includes(C.toLowerCase())))||[],D=e=>{if(j&&N.isReady&&"Enter"===e.key&&A.length>0){let e=A[0],t="/?t=active&side=long&token=".concat(e.token.symbol);N.push(t)}},z=[{id:"token",label:"Token",valueRenderer:e=>(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1 md:gap-2",children:[(0,a.jsx)("img",{src:e.token.imageUrl,alt:e.token.symbol,className:"w-6 h-6 rounded-full border border-glass-focus"}),(0,a.jsx)("span",{className:"text-xs lg:text-base ",children:"USDB"===e.token.symbol?"ETH/USDB":e.token.symbol+"/ETH"})]}),span:2,align:"left",sort:(0,r.V2)(e=>e.token.symbol),columnOnClick:e=>S("tokenSearchSort",e)},{id:"price",label:"Price",valueRenderer:e=>(0,a.jsx)(d.i,{exponentClassName:"text-xs text-neutral-content",className:"text-sm md:text-base ",iconSize:12,price:Number(e.tokenStats.price),showAsFullNFT:!1,tokenAddress:e.token.address,tokenType:e.token.tokenType}),align:"right",sort:(0,r.dY)(e=>Number(e.tokenStats.price)),columnOnClick:e=>S("tokenSearchSort",e)},{id:"24hChange",label:"24h Change",valueRenderer:e=>(0,a.jsxs)("div",{className:u()("text-sm flex items-center",{"text-put":e.tokenStats.oneDayChange<0,"text-call":e.tokenStats.oneDayChange>0,"text-neutral-content":0===e.tokenStats.oneDayChange}),children:[e.tokenStats.oneDayChange>0?(0,a.jsx)(p.rBm,{size:16}):(0,a.jsx)(p.WMq,{size:16}),Math.abs(e.tokenStats.oneDayChange).toFixed(2),"%"]}),align:"right",sort:(0,r.dY)(e=>e.tokenStats.oneDayChange),columnOnClick:e=>S("tokenSearchSort",e)},{id:"24hVolume",label:"24h Volume",valueRenderer:e=>(0,a.jsxs)("span",{className:"flex flex-row items-center !text-lg",children:[(0,a.jsx)("span",{className:"",children:"$"}),(0,y.ER)(e.tokenStats.oneDayVolumeUsd)]}),align:"right",sort:(0,r.dY)(e=>e.tokenStats.oneDayVolumeUsd),columnOnClick:e=>S("tokenSearchSort",e)}];return(0,a.jsxs)("div",{className:"w-full standard-stack",children:[(0,a.jsxs)("div",{className:"w-full flex flex-row items-center glassborder rounded-md",children:[(0,a.jsx)(n.Yfv,{className:"searchbar-icon ml-4 mr-4 cursor-pointer",size:18}),(0,a.jsx)("input",{className:"h-10 inline-block cursor-pointer border-none outline-none bg-transparent w-full hover:cursor-text",type:"text",placeholder:"Search markets",value:C,onChange:e=>{let t=e.target.value;L(t)},onPaste:e=>{let t=e.clipboardData.getData("text");e.preventDefault(),L(t)},onKeyUp:e=>{"Enter"===e.key&&D(e)},autoComplete:"off",autoFocus:!0})]}),(0,a.jsx)("hr",{className:"border-neutral-content/30"}),(0,a.jsx)(r.iA,{id:"perp_positions",className:"max-h-[500px] md:min-w-[700px]",columns:z,data:null===(s=T.data)||void 0===s?void 0:s.items.filter(e=>e.token.symbol.toLowerCase().includes(C.toLowerCase())||e.token.name.toLowerCase().includes(C.toLowerCase())),initialSort:k.tokenSearchSort||"24hVolume",initialSortDirection:"desc",isLoading:T.isLoading,rowOnClick:e=>{c&&c(e.token),_(e.token.symbol)}})]})}},99077:function(e,t,s){"use strict";s.d(t,{G:function(){return r}});var a=s(85893);s(67294);var n=s(53990);let r=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center gap-2 text-warning rounded-md p-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.lsX,{size:12})}),(0,a.jsx)("div",{children:t})]})}},79217:function(e,t,s){"use strict";s.d(t,{W:function(){return l},y:function(){return r}});var a=s(11163),n=s(67294);function r(e,t){return l(e,t,e=>e)}function l(e,t,s){let r=(0,a.useRouter)(),l=r.query[e],i=t=>{r.replace({pathname:r.pathname,query:{...r.query,[e]:t}})};return(0,n.useEffect)(()=>{!l&&r.isReady&&i(t)},[r.isReady]),[l?s(Array.isArray(l)?l[0]:l):t,i]}},71873:function(e,t,s){"use strict";s.d(t,{D:function(){return m}});var a=s(85893),n=s(69077),r=s(88767),l=s(21419),i=s(98716);let o=()=>{var e;let{address:t}=(0,n.mA)(),s=void 0!==t&&i.PD.indexOf(t)>=0,a=(0,r.useQuery)(["geofence"],async()=>await (0,l.bh)(),{cacheTime:6e5,enabled:i.mC&&!s});return{isLoading:!s&&a.isLoading,isError:!s&&a.isError,isSuccess:s||!i.mC||a.isSuccess,isAllowed:s||!i.mC||(null===(e=a.data)||void 0===e?void 0:e.allowed)}};var d=s(50737),c=s(23434);s(67294);var u=s(57851);let p=(e,t)=>(0,a.jsx)("a",{href:t,target:"_blank",className:"text-blue-500",children:e}),m=e=>{let{children:t,className:s}=e,n=o();return(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[n.isLoading&&(0,a.jsx)(d.T,{}),n.isError&&(0,a.jsx)(c.y,{message:"Something went wrong. Please refresh the page."}),n.isSuccess&&(0,a.jsx)(a.Fragment,{children:n.isAllowed?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsxs)("div",{className:(0,u.m)("standard-frame p-8 text-xl mx-auto",s||""),children:["Wasabi is unavailable to people or companies who are residents of, or are located, incorporated or have a registered agent in United States of America, United Kingdom and other blocked countries or restricted territories.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Complete details can be found in our ",p("Terms of Use",i.Zd),"."]})})]})}},16247:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ed}});var a=s(85893),n=s(2962),r=s(67294),l=s(88767),i=s(85821),o=s(42444),d=s(76790),c=s(56399),u=s(94184),p=s.n(u),m=s(70231),v=s(17667);let x=e=>{let{side:t,onChange:s}=e,n=e=>(0,a.jsxs)("button",{onClick:()=>s(e),className:p()("capitalize flex flex-row gap-2 items-center justify-center flex-grow p-2 rounded-md font-light text-lg",{"hover:bg-glass":e!==t,"bg-glass-focus":e===t}),children:["deposit"===e?(0,a.jsx)(m.ZTc,{}):(0,a.jsx)(m.NWQ,{})," ",(0,v.f)(e)]});return(0,a.jsxs)("div",{id:"perp-section-side",className:"standard-stack",children:[(0,a.jsx)("hr",{className:"border-neutral-content/30"}),(0,a.jsxs)("div",{className:"flex flex-row gap-1 justify-center",children:[n("deposit"),n("redeem")]}),(0,a.jsx)("hr",{className:"border-neutral-content/30"})]})};var h=s(1966),f=s(49277),g=s(60263),y=s(41591),b=s(47516);let w=e=>{let{value:t,inSymbol:s,outSymbol:n,tokenDecimals:r,placeholder:l,isLoading:i}=e,d=t?(0,g.b)(t,r):l;t&&(d=parseFloat(Number(d).toFixed(4)).toLocaleString());let c=(0,y.Z)();return(0,a.jsx)("div",{className:"w-full text-sm text-neutral-content flex items-center justify-end",children:i?(0,a.jsx)("div",{className:"min-h-[16px] rounded-md bg-slate-600 animate-pulse"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",id:"tps_".concat(c),children:[(0,a.jsxs)("span",{className:"cursor-default",children:["1 ",s," = ",d," ",n]}),(0,a.jsx)(b.CUu,{size:16})]}),(0,a.jsx)(o.u,{anchorSelect:"#tps_".concat(c),id:"tooltip_tps_".concat(c),place:"top",className:"z-50 max-w-[300px]",style:{backgroundColor:"#3b485f",color:"#98a2b3"},content:"Our vaults implement the ERC-4626 standard. Vault shares represents the amount of tokens deposited plus interested earned. The price of vaults shares will grow over time, as more tokens are utilized from the vault."})]})})};var j=s(40491),N=s(48289),k=s(29427),S=s(75840),C=s(69077),L=s(85255),E=s(71873);let _=e=>{var t,s;let{enabled:n,side:r,vaultStats:l,amount:i,useNative:o}=e,d=l.vault.isNative&&o,{address:c}=(0,C.mA)(),u="deposit"===r,p=l.vault,m=[];u&&!d&&m.push({name:"Allow Token Transfers",description:"Allow the transfer of your token to the vault",stepRenderer:(e,t)=>(0,a.jsx)(k.rC,{autoStart:!0,spender:p.address,requestMaxValue:!0,amount:(0,S.Md)(i||0),contractAddress:p.tokenAddress,approvalChanged:t=>{t&&e()},className:"capitalize text-xs w-full"})}),m.push({name:u?"Deposit":"Withdraw",description:u?"Depositing ".concat((null===(t=l.token)||void 0===t?void 0:t.symbol)||"ETH"," into the vault."):"Withdrawing ".concat((null===(s=l.token)||void 0===s?void 0:s.symbol)||"ETH"," from the vault."),button:{id:u?"deposit":"redeem",loadingText:u?"Depositing...":"Withdrawing...",addressOrName:p.address,functionName:u?d?"depositEth":"deposit":"redeem",contractInterface:N.F,args:u?d?[c]:[i,c]:[i,c,c],overrides:{value:u&&d?i:void 0},enabled:n}});let v=()=>(0,a.jsx)(j.h,{id:u?"deposit":"withdraw",title:u?"Deposit":"Withdraw",onSuccess:()=>{},transactionChain:m,enabled:n,type:L.iU.LP});return u?(0,a.jsx)(E.D,{className:"text-sm",children:v()}):v()};var T=s(5434);let A=[{type:"event",anonymous:!1,inputs:[{name:"owner",type:"address",indexed:!0},{name:"spender",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}],name:"Approval"},{type:"event",anonymous:!1,inputs:[{name:"sender",type:"address",indexed:!0},{name:"receiver",type:"address",indexed:!0},{name:"assets",type:"uint256",indexed:!1},{name:"shares",type:"uint256",indexed:!1}],name:"Deposit"},{type:"event",anonymous:!1,inputs:[{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}],name:"Transfer"},{type:"event",anonymous:!1,inputs:[{name:"sender",type:"address",indexed:!0},{name:"receiver",type:"address",indexed:!0},{name:"owner",type:"address",indexed:!0},{name:"assets",type:"uint256",indexed:!1},{name:"shares",type:"uint256",indexed:!1}],name:"Withdraw"},{stateMutability:"view",type:"function",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}]},{stateMutability:"view",type:"function",inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}]},{stateMutability:"view",type:"function",inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}]},{stateMutability:"view",type:"function",inputs:[],name:"totalSupply",outputs:[{type:"uint256"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}]}];var D=s(56371),z=s(82050),R=s(9279),O=s(61092),P=s(12536);let M=e=>{let t=e.nativeApr,s=e.apr;return void 0!==t&&(s+=(1-e.utilizationRate)*t),100*s},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return Number((0,g.b)(e,18)).toLocaleString([],{maximumFractionDigits:t})},I=e=>{let{vaultStats:t}=e,{address:s}=(0,P.x)(),n=(0,l.useQuery)(["lp_stats",s,t.vault.address],async()=>await (0,i.zQ)(s||R.d,t.vault.address),{cacheTime:2e4,staleTime:2e4,refetchInterval:2e4});return(0,a.jsxs)("div",{id:"lp-stats",className:"standard-stack",children:[(0,a.jsx)("hr",{className:"border-neutral-content/30"}),(0,a.jsxs)("div",{className:"standard-stack p-1",children:[(0,a.jsx)(O.Z,{label:"Total Deposited ",isLoading:n.isLoading,isError:n.isError,data:n.data,children:e=>{var s,n;return(0,a.jsxs)("span",{className:"flex flex-row gap-2",children:[(0,a.jsx)("span",{children:F(e.totalDeposited,2).toLocaleString()}),(0,a.jsx)("span",{className:"text-gray-400",children:(null===(s=t.token)||void 0===s?void 0:s.symbol)?null===(n=t.token)||void 0===n?void 0:n.symbol:"WETH"})]})}}),(0,a.jsx)(O.Z,{label:"Interest Received",tooltip:"Total amount of interest received",isLoading:n.isLoading,isError:n.isError,data:n.data,children:e=>{var s,n;return(0,a.jsxs)("span",{className:"flex flex-row gap-2",children:[(0,a.jsx)("span",{children:F(e.earned).toLocaleString()}),(0,a.jsx)("span",{className:"text-gray-400",children:(null===(s=t.token)||void 0===s?void 0:s.symbol)?null===(n=t.token)||void 0===n?void 0:n.symbol:"WETH"})]})}}),(0,a.jsx)(O.Z,{label:"Pending Interest",tooltip:"Outstanding interest that has not been paid yet",isLoading:n.isLoading,isError:n.isError,data:n.data,children:e=>{var s,n;return(0,a.jsxs)("span",{className:"flex flex-row gap-2",children:[(0,a.jsx)("span",{children:F(e.pendingInterest).toLocaleString()}),(0,a.jsx)("span",{className:"text-gray-400",children:(null===(s=t.token)||void 0===s?void 0:s.symbol)?null===(n=t.token)||void 0===n?void 0:n.symbol:"WETH"})]})}}),(0,a.jsx)(O.Z,{label:"Total Earned",tooltip:"Total amount of interest earned",isLoading:n.isLoading,isError:n.isError,data:n.data,children:e=>{var s,n;return(0,a.jsxs)("span",{className:"flex flex-row gap-2",children:[(0,a.jsx)("span",{children:F(BigInt(e.pendingInterest)+BigInt(e.earned)).toLocaleString()}),(0,a.jsx)("span",{className:"text-gray-400",children:(null===(s=t.token)||void 0===s?void 0:s.symbol)?null===(n=t.token)||void 0===n?void 0:n.symbol:"WETH"})]})}}),(0,a.jsx)(O.Z,{label:"Current APR ",isLoading:n.isLoading,isError:n.isError,data:t,children:e=>{let t=M(e);return(0,a.jsxs)("span",{children:[" ",t>0?"".concat(t.toFixed(2),"%"):"-"]})}})]})]})};var U=s(45810),W=s(62987),H=s(98716),V=s(6525),B=s(4567),Z=s(91422),q=s(18726),Y=s(79217),Q=s(99077);let G=(e,t)=>{let s,a;let n=e.address,r=e.tokenAddress;return e.isNative&&t&&(r=R.d),n<r?(s=n,a=r):(s=r,a=n),{token0:s,token1:a,token0IsShares:n===s}},X=e=>{var t,s,n,o,d;let{vaultStats:u,onClose:p}=e,[m,g]=(0,r.useState)(void 0),[y,b]=(0,r.useState)("deposit"),{address:j}=(0,P.x)(),N=u.vault,[k,S]=(0,r.useState)(N.isNative),[L,E]=(0,Y.W)("fractionalize","false",e=>e),O=(0,B.d)();(0,r.useEffect)(()=>{"true"===L&&O.show()},[L]),(0,r.useEffect)(()=>{g(void 0)},[y,u.vault.address]);let M=(0,C.do)({address:u.vault.address,abi:A,functionName:"deposit"===y?"previewDeposit":"previewRedeem",args:[m||0n],enabled:!!m&&void 0!==u.vault.address}),F=(0,C.do)({address:u.vault.address,abi:A,functionName:"deposit"===y?"previewDeposit":"previewRedeem",args:[(0,D.parseEther)("1").toBigInt()],enabled:void 0!==u.vault.address}),X=G(N,k),K=(0,V.A)(),$=(0,l.useQuery)(["balances",j,u.vault.address,k,K.pendingTransactions.length],async()=>await (0,i.J4)(j,[X.token0,X.token1]),{enabled:!!j,cacheTime:6e4}),J=e=>{if(!$.data)return 0n;let t=e.toLowerCase()===N.address.toLowerCase();return X.token0IsShares?t?$.data[0]||0n:$.data[1]||0n:t?$.data[1]||0n:$.data[0]||0n},ee=e=>{let t=N.isNative&&k?R.d:N.tokenAddress,s=u.vault.address;return e?"deposit"===y?J(t):J(s):"deposit"===y?J(s):J(t)},et=e=>{var t;let s=(null===(t=u.token)||void 0===t?void 0:t.symbol)||(k?"ETH":"WETH"),a=u.vault.symbol;return e?"deposit"===y?s:a:"deposit"===y?a:s};return(0,a.jsxs)("div",{className:"standard-stack p-4 flex-grow",children:[(0,a.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,a.jsx)(c.Z,{src:u.vault.tokenAddress===H.SD?"https://wasabi-public.s3.amazonaws.com/tokens/usdb.png":null===(t=u.token)||void 0===t?void 0:t.imageUrl,fallbackImage:"https://wasabi-public.s3.amazonaws.com/tokens/weth.png",initialImage:"/static/dkoda_loading.svg",className:"w-14 h-14 rounded-full"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"text-md",children:u.vault.name}),(0,a.jsx)(z.L,{address:u.vault.address,className:"text-sm text-neutral-content",label:u.vault.symbol})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(T.FU5,{onClick:p,size:24,className:"hover:scale-110 cursor-pointer"})})]}),"0xc8061516994aa5d884fdf6385c6b64e7b9e93014"===N.address.toLowerCase()&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.z,{buttonType:q.L.YELLOW,onClick:O.show,children:"Fractionalize Blastopians"}),(0,a.jsx)(B.u,{...O,children:(0,a.jsx)(Z.Q,{})})]}),(0,a.jsx)("div",{className:"standard-stack",children:(0,a.jsx)(I,{vaultStats:u})}),(0,a.jsx)(x,{side:y,onChange:b}),(0,a.jsxs)("div",{id:"vault-section-input",className:"standard-stack",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 text-md font-light",children:[(0,a.jsx)("span",{children:(0,v.f)(y)}),N.isNative&&"deposit"===y&&(0,a.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[(0,a.jsx)("span",{children:"WETH"}),(0,a.jsx)(U.Z,{checked:k,onColor:W.theme.extend.colors.call,checkedIcon:!1,height:16,width:32,handleDiameter:16,uncheckedIcon:!1,onChange:e=>S(e.valueOf())}),(0,a.jsx)("span",{children:"ETH"})]})]}),(0,a.jsx)(h.r,{value:m,onChange:e=>g(e),symbol:et(!0),imageUrl:"deposit"===y?null===(s=u.token)||void 0===s?void 0:s.imageUrl:void 0,placeholder:"0.0",tokenDecimals:u.vault.decimals},"input_".concat(u.vault.address,"_").concat(y)),(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-neutral-content",children:["Balance: ",parseFloat(Number((0,D.formatEther)(ee(!0))).toFixed(2))]}),(0,a.jsx)("span",{className:"text-blue-500 text-sm text-right cursor-pointer hover:text-blue-300",onClick:()=>g(ee(!0)),children:"Max"})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(T.Llt,{className:"w-[45px] h-[45px] text-neutral-content"})}),(0,a.jsxs)("div",{id:"vault-section-output",className:"standard-stack",children:[(0,a.jsx)("div",{className:"flex flex-row items-center gap-2 text-md font-light",children:"Receive"}),(0,a.jsx)(f.U,{value:m?M.data:void 0,isLoading:M.isLoading,placeholder:"0.0",symbol:et(!1),imageUrl:"redeem"===y?null===(n=u.token)||void 0===n?void 0:n.imageUrl:void 0,tokenDecimals:(null===(o=u.token)||void 0===o?void 0:o.decimals)||18}),(0,a.jsxs)("span",{className:"text-sm text-neutral-content",children:["Balance: ",parseFloat(Number((0,D.formatEther)(ee(!1))).toFixed(2))]})]}),(0,a.jsx)(w,{value:F.data,isLoading:F.isLoading,placeholder:"0.0",outSymbol:et(!1),inSymbol:et(!0),tokenDecimals:(null===(d=u.token)||void 0===d?void 0:d.decimals)||18}),(0,a.jsx)(_,{enabled:!!m&&m>0&&ee(!0)>=m,side:y,vaultStats:u,amount:m||0n,useNative:k}),!!m&&ee(!0)<m&&(0,a.jsx)(Q.G,{message:"Insufficient ".concat(et(!0)," balance")})]})};var K=s(86546),$=s(95468),J=s(42038),ee=s(63750),et=s(85863),es=s(69241),ea=s(69274),en=s(53990),er=s(31192),el=s(95378);let ei=e=>{var t,s;let{onVaultSelected:n}=e,{address:r}=(0,P.x)(),o=(0,l.useQuery)(["lp_vault_summary",r],async()=>await (0,i.rK)(r),{enabled:!!r,refetchInterval:2e4}),u=(0,er.Bh)(),p=[{id:"vault",label:"Vault",valueRenderer:e=>{var t;return(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center text-neutral-content hover:text-white hover:underline cursor-pointer",onClick:()=>n(e.vaultStats),children:[(0,a.jsx)(c.Z,{src:e.vaultStats.vault.tokenAddress===H.SD?"https://wasabi-public.s3.amazonaws.com/tokens/usdb.png":(null===(t=e.vaultStats.token)||void 0===t?void 0:t.imageUrl)||"https://wasabi-public.s3.amazonaws.com/tokens/weth.png",fallbackImage:"https://wasabi-public.s3.amazonaws.com/tokens/weth.png",initialImage:"/static/dkoda_loading.svg",className:"w-6 h-6 rounded-full"}),(0,a.jsx)("span",{className:"text-sm",children:e.vaultStats.vault.symbol}),(0,a.jsx)("div",{children:(0,a.jsx)(b.rpH,{size:16})})]})}},{id:"shares",label:"Number of Shares",valueRenderer:e=>(0,a.jsx)("span",{className:"text-sm",children:Number((0,g.b)(e.sharesHeld,18)).toLocaleString([],{maximumFractionDigits:3})}),align:"right"},{id:"value",label:"ETH Value",valueRenderer:e=>(0,a.jsx)(K.X,{value:e.valueInEth,ethPrice:u.ethPrice}),align:"right"}];return(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"standard-stack !gap-0 w-full",children:[(0,a.jsx)("div",{className:"w-full flex items-center p-4",children:r?(0,a.jsx)(J.H,{label:"Account",className:"w-full text-sm",children:(0,a.jsx)(z.L,{short:!0,className:"!font-normal text-white",address:r,displaySelf:!1,showAvatar:!0,useBlockie:!0})}):(0,a.jsx)(el.R,{})}),(0,a.jsx)("hr",{className:"border-neutral-content/50"}),(0,a.jsx)(d.iA,{id:"lp_stats",className:"w-full overflow-x-auto !bg-transparent !border-0",columns:p,data:(null===(t=o.data)||void 0===t?void 0:t.holdings)||[],isLoading:o.isLoading,error:o.isError?"Something went wrong":void 0,emptyText:"No deposits found. Deposit into a vault to start earning rewards."}),o.isSuccess&&(0,a.jsx)(J.H,{label:"Total TVL",className:"w-full text-white p-4",children:(0,a.jsx)(K.X,{value:(null===(s=o.data)||void 0===s?void 0:s.holdings.map(e=>e.valueInEth).reduce((e,t)=>BigInt(e)+BigInt(t),0n))||0n,ethPrice:u.ethPrice})}),(0,a.jsx)("hr",{className:"border-neutral-content/50 w-full"})]})})},eo=()=>{var e;let[t,s]=r.useState("grid"),[u,v]=(0,r.useState)(""),{address:x}=(0,P.x)(),h=(0,d.hl)(!1,(e,t)=>e.vault.address.toLowerCase()===t.vault.address.toLowerCase()),[f,y]=(0,r.useState)("tvl"),[b,w]=(0,Y.W)("vault","",e=>e),{data:j,isLoading:N,isError:k}=(0,l.useQuery)(["vault_stats"],async()=>await (0,i.I8)().then(e=>({...e,items:e.items.sort((e,t)=>(0,d.dY)(M)(e,t,null))})),{refetchInterval:2e4,onSuccess:e=>{if(0===e.items.length||h.selected.length>0||!b||0===b.length)return;let t=e.items.find(e=>e.vault.symbol===b)||e.items[0];0===h.selected.length&&(h.toggle(t),w(t.vault.symbol))}});(0,r.useEffect)(()=>{h.selected.length>0&&w(h.selected[0].vault.symbol)},[h.selected]);let S=[{id:"name",label:"Name",valueRenderer:e=>{var t;return(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,a.jsx)(c.Z,{src:e.vault.tokenAddress===H.SD?"https://wasabi-public.s3.amazonaws.com/tokens/usdb.svg":null===(t=e.token)||void 0===t?void 0:t.imageUrl,fallbackImage:"https://wasabi-public.s3.amazonaws.com/tokens/weth.png",initialImage:"/static/dkoda_loading.svg",className:"w-8 h-8 rounded-full"}),(0,a.jsx)("span",{children:e.vault.name})]})},span:2},{id:"apr",label:"APR",valueRenderer:e=>M(e).toFixed(2)+"%",sort:(0,d.dY)(M),align:"right"},{id:"utilizationRate",label:"Utilization Rate",valueRenderer:e=>(100*e.utilizationRate).toFixed(1)+"%",sort:(0,d.dY)(e=>e.utilizationRate),align:"right"},{id:"tvl",label:"TVL",valueRenderer:e=>{var t;return(null===(t=e.token)||void 0===t?void 0:t.address)===H.SD?"$".concat(Number((0,g.b)(e.tvlNative,18)).toLocaleString([],{maximumFractionDigits:0})):(0,a.jsx)(K.X,{value:e.tvl})},sort:(0,d.iN)(e=>BigInt(e.tvl)),align:"right"}],C=(e,n)=>(0,a.jsx)("div",{className:p()("cursor-pointer hover:scale-110",{"text-call":t===e,"text-neutral-content hover:text-white":t!==e}),onClick:()=>s(e),children:n}),L=()=>(0,a.jsx)("div",{className:"rounded-md w-full h-full bg-slate-600 animate-pulse"}),E=(e=null==j?void 0:j.items)?e.filter(e=>{var t,s;let a=H.PD.includes(x||""),n=!e.token||e.token.address.toLowerCase()!==et.y_.toLowerCase(),r=(null===(t=e.vault)||void 0===t?void 0:t.symbol.toLowerCase().includes(u.toLowerCase()))||(null===(s=e.vault)||void 0===s?void 0:s.name.toLowerCase().includes(u.toLowerCase()));return(a||n)&&r}):[];return(0,a.jsx)("div",{className:"flex flex-col divide-y divide-neutral-content/20 h-full",children:N?L():(0,a.jsxs)("div",{className:"w-full flex-grow grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 grid-rows-2 overflow-hidden",children:[(0,a.jsx)("div",{className:"col-span-2 md:col-span-2 row-span-2 h-full border-r border-neutral-content/20",children:(0,a.jsxs)("div",{className:"flex flex-col justify-between divide-y divide-neutral-content/20 h-full",children:[(0,a.jsx)(n.PB,{openGraph:{url:"https://app.wasabi.xyz/perps",title:"Wasabi Vaults",description:"The Decentralized Leverage Protocol"}}),(0,a.jsxs)("div",{className:"px-6 py-4 w-full flex flex-row items-start justify-between",children:[(0,a.jsxs)("div",{className:"standard-stack justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 text-lg",children:[(0,a.jsx)(ea.ogK,{})," Vaults"]}),(0,a.jsx)("div",{className:"text-neutral-content text-sm",children:"Deposit into Wasabi vaults to earn yield and points."})]}),(0,a.jsxs)("div",{className:"grid gap-2 grid-cols-2",children:[C("grid",(0,a.jsx)(ee.lTV,{size:20})),C("table",(0,a.jsx)(m.hON,{size:20}))]})]}),(0,a.jsxs)("div",{className:"px-6 py-4 w-full flex flex-row gap-2 items-center justify-between",children:[(0,a.jsxs)("div",{className:"w-full flex flex-row items-center glassborder rounded-md",children:[(0,a.jsx)(en.Yfv,{className:"searchbar-icon ml-4 mr-4 cursor-pointer",size:18}),(0,a.jsx)("input",{className:"h-10 inline-block cursor-pointer border-none outline-none bg-transparent w-full hover:cursor-text",type:"text",placeholder:"Search Vaults",value:u,onChange:e=>{let t=e.target.value;v(t)},onPaste:e=>{let t=e.clipboardData.getData("text");e.preventDefault(),v(t)},autoComplete:"off",autoFocus:!0})]}),"grid"===t&&(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,a.jsx)("span",{className:"min-w-[60px] text-right text-sm",children:"Sort by:"}),(0,a.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"glassborder rounded-md px-2 py-1",children:[(0,a.jsx)("option",{value:"tvl",children:"TVL"}),(0,a.jsx)("option",{value:"apr",children:"APR"})]})]})]}),(0,a.jsx)("div",{className:p()("p-6 item w-full grid gap-2 no-scrollbar flex-grow",{"overflow-y-auto":"grid"===t}),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:["grid"===t&&(0,a.jsx)($.GlowCapture,{children:(0,a.jsx)("div",{className:"grid auto-rows-min grid-cols-fill-xl gap-2 overflow-y-auto",children:E.sort((e,t)=>"apr"===f?(0,d.dY)(M)(e,t,null):(0,d.iN)(e=>BigInt(e.tvl))(e,t,null)).map((e,t)=>{var s,n;return(0,a.jsx)($.Glow,{className:p()(" flex-grow border border-glass-focus rounded-lg bg-glass hover:bg-glass-focus cursor-pointer glow:bg-red-500 overflow-hidden",{"bg-glass-focus":h.selected.length>0&&h.selected[0].vault.address===e.vault.address}),color:"purple",style:{},debug:!1,children:(0,a.jsxs)("div",{className:"standard-stack !gap-8 p-4",onClick:()=>{0===h.selected.length||h.selected[0].vault.address!==e.vault.address?h.toggle(e):h.selected[0].vault.address===e.vault.address&&h.clear()},children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,a.jsxs)("div",{className:"font-bold text-lg flex flex-row items-center gap-2",children:[(0,a.jsx)("span",{children:e.vault.symbol}),(e.vault.tokenAddress===H.uH||e.vault.tokenAddress===H.SD)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{id:"vault_blast_".concat(e.vault.address),src:"/static/blast.svg",className:"h-6 w-6",alt:"blast_earning"}),(0,a.jsx)(o.u,{anchorSelect:"#vault_blast_".concat(e.vault.address),id:"tooltip_vault_blast_".concat(e.vault.address),place:"top",noArrow:!0,className:"z-50 p-2",content:"".concat(e.vault.symbol," LPs earn Blast points and Wasabi LP points"),style:{backgroundColor:"#3b485f",color:"white"}})]})]}),(0,a.jsx)(c.Z,{src:e.vault.tokenAddress===H.SD?"https://wasabi-public.s3.amazonaws.com/tokens/usdb.png":(null===(s=e.token)||void 0===s?void 0:s.imageUrl)||"https://wasabi-public.s3.amazonaws.com/tokens/weth.png",fallbackImage:"https://wasabi-public.s3.amazonaws.com/tokens/weth.png",initialImage:"/static/dkoda_loading.svg",className:"w-16 h-16 rounded-full"})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-between items-end",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-neutral-content text-xs flex flex-row items-end justify-between gap-4",children:(0,a.jsx)("span",{children:"APR"})}),(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-end",children:[(0,a.jsxs)("div",{id:"native_yield_".concat(e.vault.address),className:p()("text-3xl",{"text-[#FCFC05]":void 0!==e.nativeApr&&e.nativeApr>0}),children:[M(e).toFixed(2),"%"]}),void 0!==e.nativeApr&&e.nativeApr>0&&(0,a.jsx)(o.u,{anchorSelect:"#native_yield_".concat(e.vault.address),id:"tooltip_native_yield_".concat(e.vault.address),place:"top",noArrow:!0,className:"z-50 p-2",content:"".concat(e.vault.symbol," earns native yield which is distributed periodically."),style:{backgroundColor:"#3b485f",color:"white"}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(J.H,{label:"TVL",className:"text-sm !gap-2",children:(0,a.jsx)("div",{className:"text-white",children:(null===(n=e.token)||void 0===n?void 0:n.address)===H.SD?"$".concat(Number((0,g.b)(e.tvlNative,18)).toLocaleString([],{maximumFractionDigits:0})):(0,a.jsx)(K.X,{value:e.tvl})})}),(0,a.jsx)(J.H,{label:"Util",className:"text-sm !gap-2",children:(0,a.jsxs)("span",{className:"text-white",children:[(100*e.utilizationRate).toFixed(1)," %"]})})]})]})]})},"vault_".concat(e.vault.address))})})}),"table"===t&&(0,a.jsx)(d.iA,{id:"vault_stats_table",className:"w-full overflow-x-scroll max-h-[900px]",initialSort:"name",initialSortDirection:"asc",columns:S,data:E,isLoading:N,error:k?"Error loading data":void 0,selectController:h,rowOnClick:e=>h.selected[0]!==e&&h.toggle(e)})]})})]})}),(0,a.jsx)("div",{className:"col-span-2 lg:col-span-1 md:col-span-2 row-span-2 min-h-[800px] md:min-h-[300px] overflow-y-scroll no-scrollbar",children:N?L():0===h.selected.length?(0,a.jsx)(ei,{onVaultSelected:h.toggle}):(0,a.jsx)(X,{vaultStats:h.selected[0],onClose:()=>{h.clear(),w("")}})})]})})};eo.getLayout=function(e){return(0,a.jsx)(es.z,{skipGeofence:!0,fixedHeight:!0,grow:!0,hidePadding:!0,children:e})};var ed=eo},17667:function(e,t,s){"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}s.d(t,{f:function(){return a}})},30710:function(e,t,s){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},n=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),r=s(67294),l=o(r),i=o(s(45697));function o(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.generateIdenticon=s.generateIdenticon.bind(s),s}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.generateIdenticon(a({},this.props))}},{key:"componentWillUpdate",value:function(e){this.isEquivalent(this.props,e)||this.generateIdenticon(a({},e))}},{key:"isEquivalent",value:function(e,t){var s=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(t);if(s.length!=a.length)return!1;for(var n=0;n<s.length;n++){var r=s[n];if(e[r]!==t[r])return!1}return!0}},{key:"generateIdenticon",value:function(e){var t=[,,,,];function s(){var e=t[0]^t[0]<<11;return t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=t[3]^t[3]>>19^e^e>>8,(t[3]>>>0)/2147483648}function a(){return"hsl("+Math.floor(360*s())+","+(60*s()+40)+"%,"+(s()+s()+s()+s())*25+"%)"}var n=e||{},r=n.size||8,l=n.scale||4;!function(e){for(var s=0;s<t.length;s++)t[s]=0;for(var a=0;a<e.length;a++)t[a%4]=(t[a%4]<<5)-t[a%4]+e.charCodeAt(a)}(n.seed||Math.floor(1e16*Math.random()).toString(16));var i=n.color||a(),o=n.bgColor||a(),d=n.spotColor||a(),c=function(e){for(var t=Math.ceil(e/2),a=e-t,n=[],r=0;r<e;r++){for(var l=[],i=0;i<t;i++)l[i]=Math.floor(2.3*s());var o=l.slice(0,a);o.reverse(),l=l.concat(o);for(var d=0;d<l.length;d++)n.push(l[d])}return n}(r);return function(e,t,s,a,n,r){var l=Math.sqrt(t.length),i=l*a;e.width=i,e.style.width=i+"px",e.height=i,e.style.height=i+"px";var o=e.getContext("2d");o.fillStyle=n,o.fillRect(0,0,e.width,e.height),o.fillStyle=s;for(var d=0;d<t.length;d++)if(o.fillStyle=1===t[d]?s:r,t[d]){var c=Math.floor(d/l),u=d%l;o.fillRect(u*a,c*a,a,a)}}(this.identicon,c,i,l,o,d)}},{key:"render",value:function(){var e=this;return l.default.createElement("canvas",{ref:function(t){e.identicon=t},className:this.props.className})}}]),t}(r.Component);t.Z=d,d.defaultProps={className:"identicon"},d.propTypes={seed:i.default.string.isRequired,size:i.default.number,scale:i.default.number,color:i.default.string,bgColor:i.default.string,spotColor:i.default.string}}},function(e){e.O(0,[3662,3609,3777,4980,4090,1778,1827,8617,6736,9037,1422,9774,2888,179],function(){return e(e.s=48392)}),_N_E=e.O()}]);