"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{14379:function(e,t,n){n.d(t,{A:function(){return h}});var a=n(85893),i=n(47516),s=n(20238),l=n(41664),r=n.n(l),c=n(57851),o=n(98716),d=n(82050);let x=e=>{let t=d.c[o.Kj]||d.c[1];return"".concat(t,"/tx/").concat(e)},h=e=>{let{hash:t,label:n,short:l=!1,className:o=""}=e,d=t;return(l&&(d="".concat(t.slice(0,4),"...").concat(t.slice(t.length-4,t.length))),t===s.dE)?(0,a.jsx)("div",{className:"font-flight",children:d}):(0,a.jsx)(r(),{href:x(t),target:"_blank",className:(0,c.m)("hover:text-white",o||""),onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 font-light",children:[n||d," ",(0,a.jsx)(i.rpH,{})]})})}},35450:function(e,t,n){n.d(t,{E:function(){return g}});var a=n(85893);n(67294);var i=n(88767),s=n(85821),l=n(23434),r=n(42444),c=n(41591),o=n(42038),d=n(86546),x=n(58903),h=n(56371),u=n(98716);let m=e=>{if(!e||0===e.length)return{longPercentage:50,shortPercentage:50,longOpenInterest:0,shortOpenInterest:0};let t=e.find(e=>"LONG"===e.side),n=e.find(e=>"SHORT"===e.side),a=e.reduce((e,t)=>e+t.amount,0),i=t&&t.amount/a*100||0,s=n&&n.amount/a*100||0;t&&!n?i=100:n&&!t&&(s=100);let l=e[0].tokenAddress===u.SD,r=(null==t?void 0:t.principal)||0,c=(null==n?void 0:n.principal)||0,o=(null==t?void 0:t.amount)||0,d=(null==n?void 0:n.amount)||0;if(l){let e=r,t=i,n=o;r=c,i=s,o=d,c=e,s=t,d=n}return{longPercentage:i,shortPercentage:s,longOpenInterest:o,shortOpenInterest:d,longPrincipal:r,shortPrincipal:c}},p=()=>(0,a.jsx)("div",{className:"rounded-md w-full max-w-[400px] h-[6px] bg-slate-600 animate-pulse"}),g=e=>{let{address:t,openInterest:n,displayTotalPrincipal:u}=e,g=(0,c.Z)(),j=(0,i.useQuery)(["open_interest",t],async()=>n||await (0,s.Jl)(t),{cacheTime:2e4,staleTime:2e4,refetchInterval:2e4});if(j.isLoading)return p();if(j.isError)return(0,a.jsx)(l.y,{message:"Error loading open interest stats"});let{longPercentage:v,shortPercentage:N,longOpenInterest:f,shortOpenInterest:w,longPrincipal:b,shortPrincipal:I}=m(j.data);return(0,a.jsxs)("div",{className:"flex items-center space-x-1 hover:cursor-pointer",id:"oiv_".concat(g),children:[(0,a.jsx)("div",{className:"h-[6px] bg-call rounded-l-md hover:bg-call-50",style:{width:"".concat(v,"%")},"data-tip":"Long: ".concat(v.toFixed(2),"%")}),(0,a.jsx)("div",{className:"h-[6px] bg-put rounded-r-md hover:bg-call-50",style:{width:"".concat(N,"%")},"data-tip":"Short: ".concat(N.toFixed(2),"%")}),(0,a.jsx)(r.u,{anchorSelect:"#oiv_".concat(g),id:"tooltip_oiv_".concat(g),place:"top",className:"z-50",style:{backgroundColor:"#3b485f",color:"#98a2b3"},children:(0,a.jsxs)("div",{className:"standard-stack p-2",children:[(0,a.jsx)(o.H,{label:"Long Open Interest: ",className:"text-white",children:(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("div",{className:"text-white",children:(0,a.jsx)(d.X,{value:(0,x.f)("".concat(f)),className:"text-white"})}),(0,a.jsxs)("div",{className:"text-white",children:["(",v.toFixed(2),"%)"]})]})}),u&&(0,a.jsx)(o.H,{label:"Long Principal: ",className:"text-white",children:(0,a.jsx)("div",{className:"flex flex-col items-end",children:(0,a.jsx)("div",{className:"text-white",children:(0,a.jsx)(d.X,{value:(0,x.f)("".concat(b)),className:"text-white"})})})}),(0,a.jsx)(o.H,{label:"Short Open Interest: ",className:"text-white",children:(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("div",{className:"text-white",children:(0,a.jsx)(d.X,{value:(0,x.f)("".concat(w)),className:"text-white"})}),(0,a.jsxs)("div",{className:"text-white",children:["(",N.toFixed(2),"%)"]})]})}),u&&(0,a.jsx)(o.H,{label:"Short Principal: ",className:"text-white",children:(0,a.jsx)("div",{className:"flex flex-col items-end",children:(0,a.jsx)("div",{className:"text-white",children:parseFloat(Number((0,h.formatEther)((0,x.f)("".concat(I||0))||0)).toFixed(2)).toLocaleString()})})})]})})]})}},97796:function(e,t,n){n.d(t,{o:function(){return d}});var a=n(85893),i=n(23434),s=n(86546),l=n(42444),r=n(42038);n(67294);var c=n(60263);let o=e=>{let{positionStatus:t}=e,n=t.position,i=BigInt(n.downPaymentRaw),l=BigInt(t.netValue),o=BigInt(t.fee),d="LONG"===n.side?BigInt(t.interestPaid):BigInt(t.interestPaid)*BigInt(Math.round(1e10*t.markPrice))/BigInt(1e10),x=t.apr/8760,h=BigInt(n.principalRaw)*BigInt(Math.round(1e6*x))/BigInt(1e6),u=(0,c.b)(h,t.token.decimals);return(0,a.jsxs)("div",{className:"standard-stack p-2",children:[(0,a.jsx)(r.H,{label:"Down Payment",className:"text-white",children:(0,a.jsx)(s.X,{value:i})}),(0,a.jsx)("hr",{className:"border-neutral-content/30"}),(0,a.jsx)(r.H,{label:"Interest Paid",className:"text-white",children:(0,a.jsx)(s.X,{value:-d})}),(0,a.jsx)(r.H,{label:"Borrow Rate",className:"text-white",children:(0,a.jsx)("div",{className:"standard-stack items-end",children:(0,a.jsxs)("div",{children:[(100*x).toFixed(4),"% / 1h"]})})}),(0,a.jsx)(r.H,{label:"Borrow Amount",className:"text-white",children:(0,a.jsx)("div",{className:"standard-stack items-end",children:(0,a.jsxs)("div",{children:[Number(u).toLocaleString([],{maximumFractionDigits:10})," ","LONG"===t.position.side?"ETH":t.token.symbol," / 1h"]})})}),(0,a.jsx)("hr",{className:"border-neutral-content/30"}),(0,a.jsx)(r.H,{label:"PnL",className:"text-white",children:(0,a.jsx)(s.X,{className:"flex-col items-end",value:l+o-i,valueForPercent:l+o,original:i})}),(0,a.jsx)("hr",{className:"border-neutral-content/30"}),(0,a.jsx)(r.H,{label:"You Receive",className:"text-white",children:(0,a.jsx)(s.X,{value:l,fractions:4})})]})},d=e=>{let{positionStatus:t}=e;return(0,a.jsxs)("div",{children:[t.hasError?(0,a.jsx)(i.y,{id:"pnl_".concat(t.position.id),message:"Error"}):(0,a.jsx)(s.X,{showPlus:!0,className:"cursor-pointer",valueClassName:"underline decoration-dotted underline-offset-4",id:"pnl_".concat(t.position.id),value:BigInt(t.netValue)+BigInt(t.fee)-BigInt(t.position.downPaymentRaw),valueForPercent:BigInt(t.netValue)+BigInt(t.fee),original:BigInt(t.position.downPaymentRaw)}),(0,a.jsx)(l.u,{anchorSelect:"#pnl_".concat(t.position.id),id:"tooltip_pnl_".concat(t.position.id),place:"top",className:"z-50",style:{backgroundColor:"#3b485f",color:"#98a2b3"},children:t.hasError?"Something went wrong. Please contact the team from Discord":(0,a.jsx)(o,{positionStatus:t})})]})}},65060:function(e,t,n){n.d(t,{w:function(){return c}});var a=n(85893),i=n(33714),s=n(94184),l=n.n(s),r=n(98716);let c=e=>{let{position:t,token:n,onTokenClicked:s}=e,c=t.side,o=n.symbol;return n.address===r.SD&&(c="LONG"===c?"SHORT":"LONG",o="ETH"),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 hover:cursor-pointer hover:underline hover:underline-offset-2 text-sm",onClick:()=>s(n),children:[(0,a.jsx)("img",{src:n.imageUrl,alt:o,className:"w-8 h-8 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:l()({"text-call":"LONG"===c,"text-put":"SHORT"===c}),children:[(0,i.E)(t),"x ",c]}),(0,a.jsx)("span",{children:o})]})]})}},67202:function(e,t,n){n.d(t,{t:function(){return r}});var a=n(85893),i=n(42038);n(67294);var s=n(75840),l=n(31192);let r=e=>{let{positionStatus:t}=e,{ethPrice:n}=(0,l.Bh)(),r="LONG"===t.position.side,c=r?(0,s.v9)(t.position.collateralAmountRaw,t.markPrice):BigInt(t.position.collateralAmountRaw);return(0,a.jsxs)("div",{className:"standard-stack p-2",children:[(0,a.jsx)(i.H,{label:r?"Collateral":"Principal",className:"text-white",children:(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)("span",{children:(0,s.Bw)(r?BigInt(t.position.collateralAmountRaw):BigInt(t.position.principalRaw),2).toLocaleString()}),(0,a.jsx)("span",{children:t.token.symbol})]})}),n&&(0,a.jsx)(i.H,{label:"USD Value",className:"text-white",children:(0,a.jsxs)("span",{children:["$",(0,s.Bw)(BigInt(c)*BigInt(n.toFixed(0)),2).toLocaleString()]})})]})}},33714:function(e,t,n){n.d(t,{E:function(){return a},W:function(){return i}});let a=e=>{let t=BigInt(e.downPaymentRaw);if("LONG"===e.side){let n=(BigInt(e.principalRaw)+t)*10n/t;return parseFloat((Number(n)/10).toFixed(1))}let n=(BigInt(e.collateralAmountRaw)-t)*10n/t;return parseFloat((Number(n)/10).toFixed(1))},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return(Number(BigInt(e.netValue)*BigInt(t)/BigInt(e.position.downPaymentRaw))/t-1)*100}}}]);